@using StackExchange.Profiling
@{
    var breadcrumbs = (BreadCrumbTrail)ViewBag.BreadCrumbs;
}
<!DOCTYPE html>
<html>
<head>
    <title>@ViewBag.Title | WebGit .NET</title>
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/bootstrap.min.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.cookie.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/json2.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/bootstrap.min.js")" type="text/javascript"></script>
    @RenderSection("headers", required: false)
    @{WriteTo(new StringWriter(), RenderSection("intellisense", required: false));}
    @MiniProfiler.RenderIncludes(showTrivial: true, showTimeWithChildren: true, position: RenderPosition.Right)
</head>

<body>
    <div id="header">
        <h1>@ViewBag.Title</h1>
        <div id="menucontainer">
            <ul id="menu">
                <li>@Html.ActionLink("Browse", "Index", "Browse")</li>
                <li>@Html.ActionLink("Create Repo", "Create", "Manage")</li>
            </ul>
        </div>
        @if (breadcrumbs != null)
        {
            <ul class="breadcrumb">
            @{
                var breadcrumbList = breadcrumbs.ToList();
                for (var i = 0; i < breadcrumbList.Count; i++)
                {
                    var last = i == breadcrumbList.Count - 1;
                    var breadcrumb = breadcrumbList[i];
                    <li@Html.Raw(last ? " class=\"active\"" : "")>
                        @Html.ActionLink(breadcrumb.Name, breadcrumb.Action, breadcrumb.Controller, breadcrumb.RouteValues, null)
                        @if (!last)
                        {
                            <span class="divider">/</span>
                        }
                    </li>
                }
            }
            </ul>
        }
    </div>

    <div id="main">
        @using (MiniProfiler.StepStatic("Rendering Body"))
        {
            @RenderBody()
        }
    </div>

    <div id="footer">
        Copyright &copy; @DateTime.Now.Year John Gietzen. All rights reserved.
    </div>
</body>
</html>
